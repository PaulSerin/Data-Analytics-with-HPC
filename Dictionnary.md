# Tennis Match Prediction – Data Dictionary

This document describes every column generated by the _Data‑Analytics‑with‑HPC_ pipeline.  
For patterns that repeat (e.g. different players or sliding windows) we use the following
wild‑cards:

| Wild‑card | Stands for                                             | Example                            |
| --------- | ------------------------------------------------------ | ---------------------------------- |
| `{P}`     | `PLAYER1` or `PLAYER2`                                 | `PLAYER1_HEIGHT`, `PLAYER2_HEIGHT` |
| `{N}`     | Sliding‑window size (3, 5, 10, 25, 50, 100)            | `PLAYER1_LAST_25_WINRATE`          |
| `{K}`     | Service window (3, 5, 10, 20, 50, 100, 200, 300, 2000) | `PLAYER2_P_ACE_LAST_50`            |
| `{S}`     | Court surface (`CLAY`, `GRASS`, `HARD`, `CARPET`)      | `SURFACE_CLAY`                     |

---

## 1 | Identifiers & Metadata

| Column                     | Description                             |
| -------------------------- | --------------------------------------- |
| `PLAYER1_ID`, `PLAYER2_ID` | Unique ATP player IDs (integers)        |
| `TOURNEY_DATE`             | Start date of the tournament (yyyymmdd) |
| `YEAR`                     | Extracted year (int)                    |
| `SURFACE_{S}`              | One‑hot flags for the court surface     |

---

## 2 | Raw Player Characteristics

| Column            | Description                    | Unit                |
| ----------------- | ------------------------------ | ------------------- |
| `{P}_AGE`         | Age on match day               | Years               |
| `{P}_HT`          | Height                         | cm                  |
| `{P}_RANK`        | ATP ranking entering the event | Position (1 = best) |
| `{P}_RANK_POINTS` | ATP ranking points             | Points              |

---

## 3 | Engineered Difference Metrics

| Column                    | Description                                                       |
| ------------------------- | ----------------------------------------------------------------- |
| `ATP_POINT_DIFF`          | `PLAYER1_RANK_POINTS − PLAYER2_RANK_POINTS`                       |
| `ATP_RANK_DIFF`           | `PLAYER2_RANK − PLAYER1_RANK` (positive ⇒ player 1 better ranked) |
| `AGE_DIFF`, `HEIGHT_DIFF` | Physical gaps (`PLAYER1 − PLAYER2`)                               |
| `RANK_RATIO`              | `PLAYER1_RANK / PLAYER2_RANK` ( < 1 ⇒ player 1 higher ranked)     |
| `SERVE_DOMINANCE`         | Match‑day ace difference (removed for leakage when modelling)     |

---

## 4 | Head‑to‑Head Features

| Column             | Description                                       |
| ------------------ | ------------------------------------------------- |
| `H2H_TOTAL_DIFF`   | Lifetime wins of P1 vs P2 _(positive ⇒ P1 leads)_ |
| `H2H_SURFACE_DIFF` | Same as above, restricted to current surface      |

---

## 5 | Experience Features

| Column                | Description                                      |
| --------------------- | ------------------------------------------------ |
| `{P}_TOTAL_MATCHES`   | Career matches played **before** this match      |
| `{P}_SURFACE_MATCHES` | Matches on current surface **before** this match |

---

## 6 | Momentum – Rolling Win‑rates

| Pattern                | Description                                                    |
| ---------------------- | -------------------------------------------------------------- |
| `{P}_LAST_{N}_WINRATE` | Fraction of wins over the past **{N}** completed matches [0;1] |

---

## 7 | Rolling Service‑Performance Percentages

All values are expressed as percentages [0;100] averaged over the last **{K}** matches **before** to the current one.

| Pattern                  | What it measures                       |
| ------------------------ | -------------------------------------- |
| `{P}_P_ACE_LAST_{K}`     | Ace rate = 100 × (aces / serve points) |
| `{P}_P_DF_LAST_{K}`      | Double‑fault rate                      |
| `{P}_P_1STIN_LAST_{K}`   | 1st‑serve‑in %                         |
| `{P}_P_1STWON_LAST_{K}`  | Points won on 1st serve                |
| `{P}_P_2NDWON_LAST_{K}`  | Points won on 2nd serve                |
| `{P}_P_BPSAVED_LAST_{K}` | Break points saved %                   |

---

## 8 | Breakpoint Efficiency (match‑day)

| Column                                           | Description                       |
| ------------------------------------------------ | --------------------------------- |
| `PLAYER1_BP_EFFICIENCY`, `PLAYER2_BP_EFFICIENCY` | `bpsaved / bpfaced` for the match |

---

## 9 | Elo Ratings

| Column                   | Description                                               |
| ------------------------ | --------------------------------------------------------- |
| `{P}_ELO_BEFORE`         | Global Elo before the match                               |
| `{P}_ELO_SURFACE_BEFORE` | Surface‑specific Elo before the match                     |
| `ELO_DIFF`               | `PLAYER1_ELO_BEFORE − PLAYER2_ELO_BEFORE`                 |
| `ELO_SURFACE_DIFF`       | `PLAYER1_ELO_SURFACE_BEFORE − PLAYER2_ELO_SURFACE_BEFORE` |

---

## 10 | Target

| Column   | Values | Meaning                                      |
| -------- | ------ | -------------------------------------------- |
| `TARGET` | 1 / 0  | **1** = Player 1 wins, **0** = Player 2 wins |

---

## 11 | Deprecated / Post‑Match Columns

_(retained only for feature‑engineering history – **never** used for modelling)_

- `SERVE_DOMINANCE`, `{P}_BP_EFFICIENCY_*`,
- `{P}_ACE`, `{P}_DF`, `{P}_SVPT`, `{P}_1STIN`, `{P}_1STWON`, `{P}_2NDWON`, `{P}_SVGMS`, `{P}_BPSAVED`, `{P}_BPFACED`
- `SCORE`, `MINUTES`

---

### Legend

- All rolling and experience statistics are **calculated prior** to the current match to prevent data leakage.
- All player-specific variables are **prefixed** by either `PLAYER1_` or `PLAYER2_` to indicate the role (Player 1 or Player 2) in the match.
- Variables named `*_DIFF` represent **Player 1 minus Player 2** unless explicitly stated otherwise.
- Surfaces follow ATP codes: `CLAY`, `GRASS`, `HARD`, `CARPET`.

_Last updated : May 2025_
